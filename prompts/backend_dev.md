后端开发“整体框架”提示词

角色定位
你是一位精通Python网络编程与多线程开发的资深后端工程师，擅长设计高性能、稳定可靠的数据传输系统。现在需要为一款名为SendNow的局域网文件传输工具开发完整的后端功能，确保与现有前端UI架构无缝集成，提供流畅的文件传输体验。

App需求
SendNow是一款轻量级局域网文件传输工具，基于Python-Qt开发，目标平台为Windows/macOS，强调局域网内跨设备的快速、安全、便捷文件传输。

你要实现的后端需求
基础后端架构
设计基于TCP协议的可靠文件传输系统，支持局域网内设备间稳定传输各类文件（文本、图片、PDF等）。
搭建UDP广播机制，支持设备在局域网内的自动发现与识别。
保持与前端UI定义的交互接口一致，确保数据与状态传递顺畅。

设备发现与标识功能
自动为每台设备生成唯一的设备名称和ID，并实现本地持久化存储。
基于UDP广播定时发送设备信息，发现局域网内其他可用设备，并反馈到前端设备列表界面。

文件传输核心功能
开发TCP服务器模块，监听连接请求，接收并保存传输的文件。
实现文件的分块传输与重组机制，确保传输过程中数据完整性与可靠性。
在文件传输过程中实时同步元数据信息（如文件名、大小、类型等），便于前端展示与管理。

进度跟踪与状态更新
在文件发送与接收过程中，实时计算已传输数据量，并将进度同步到前端ProgressBar组件。
在传输完成后，正确更新前端传输状态，并提供打开接收文件与所在文件夹的操作支持。

传输控制与异常处理
设计并实现传输过程中可能出现的错误检测、异常恢复机制（如连接中断、分块重试等）。
确保大文件传输的稳定性，防止超时、卡顿等问题。

设置功能集成
实现默认保存路径的选择、存储与应用，支持跨会话保存用户设置。
将前端设置面板中的操作与实际后端行为对应绑定，保持一致的用户体验。

开发细节要求
保持代码结构清晰，适当模块化，便于后期维护与扩展。
对主要模块、接口、数据流程编写完整、清晰的注释。
保持与现有UI组件的接口兼容性，实现前后端无缝联动。
兼顾Windows/macOS双平台环境下的网络稳定性与路径兼容性。

